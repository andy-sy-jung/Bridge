<h1>Welcome to Bridge</h1>
<p>Your one-stop platform for tutoring and networking at Columbia.</p>

<h2>Postings</h2>

<%= form_tag postings_path, method: :get, id: 'types_form' do %>
  Include Posts Made By:
  <% @all_types.each do |t| %>
    <div class="form-check  form-check-inline">
      <%= label_tag "types[#{t}]", t, class: 'form-check-label' %>
      <%= check_box_tag "types[#{t}]", "1",  @types_to_show.include?(t), class: 'form-check-input' %>
    </div>
  <% end %>
  <br/>
  Include Subjects:
  <% @all_subjects.each do |s| %>
    <div class="form-check  form-check-inline">
      <%= label_tag "subjects[#{s}]", s, class: 'form-check-label' %>
      <%= check_box_tag "subjects[#{s}]", "1",  @subjects_to_show.include?(s), class: 'form-check-input' %>
    </div>
  <% end %>
  <br/>
  <%= submit_tag 'Refresh', class: 'btn btn-primary' %>
<% end %>

<table class="table table-striped col-md-12" id="postings">
  <thead>
    <tr>
      <th>Type</th>
      <th>Name</th>
      <th>Subject</th>
      <th>Hourly Price</th>
    </tr>
  </thead>
  <tbody>
    <% @postings.each do |p| %>
      <tr>
        <td>
          <%= p.type_of %>
        </td>
        <td>
          <%= p.name %>
        </td>
        <td>
          <%= p.subject %>
        </td>
        <td>
          <%= p.price %>
        </td>
        <td>
          <%= link_to "More about this #{p.type_of}", posting_path(p) %>
        </td>
      </tr>
      <tr><td colspan="5"><hr></td></tr> <!-- This adds a horizontal line between postings -->
    <% end %>
  </tbody>
</table>
<%= link_to 'Add new posting', new_posting_path, :class => 'btn btn-primary' %>

<%= button_to(
        "Log Out",
        destroy_user_session_path,
        method: :delete
      ) %>
